# üîê –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞ MMKV: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ + –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–æ–≤

## ü§î –ü–æ—á–µ–º—É –Ω–µ —Ç–æ–ª—å–∫–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ?

### –ü—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º:
```typescript
// –¢–æ–ª—å–∫–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
export const storage = new MMKV({
  id: 'bpsenergy-storage',
  encryptionKey: 'secret-key' // ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
});
// ‚ùå –ù–æ —Ñ–∞–π–ª—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –ø–æ–ø–∞–¥–∞—é—Ç –≤ iCloud –±—ç–∫–∞–ø!
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- ‚ùå –§–∞–π–ª—ã –ø–æ–ø–∞–¥–∞—é—Ç –≤ iCloud
- ‚ùå –ó–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –≤ –æ–±–ª–∞–∫–µ
- ‚ùå –ú–æ–≥—É—Ç –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏ –≤–∑–ª–æ–º–µ

## üéØ –ò–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞

### 1. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```typescript
export const storage = new MMKV({
  id: 'bpsenergy-storage',
  encryptionKey: 'bpsenergy-secure-key-2024' // üîê –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
});
```

### 2. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ iCloud –±—ç–∫–∞–ø–æ–≤
```objc
// –ù–∞—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å –∏—Å–∫–ª—é—á–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ iCloud
[mmkvURL setResourceValue:@YES 
                  forKey:NSURLIsExcludedFromBackupKey 
                   error:&error];
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ü–æ–¥—Ö–æ–¥ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –†–∞–∑–º–µ—Ä –±—ç–∫–∞–ø–∞ | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|--------|-------------|---------------|-------------------|
| **–¢–æ–ª—å–∫–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** | üîê –°—Ä–µ–¥–Ω—è—è | üì¶ –ë–æ–ª—å—à–æ–π | ‚ö° –ë—ã—Å—Ç—Ä—ã–π |
| **–¢–æ–ª—å–∫–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ** | üõ°Ô∏è –í—ã—Å–æ–∫–∞—è | üì¶ –ù–µ—Ç | ‚ö° –ë—ã—Å—Ç—Ä—ã–π |
| **–î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞** | üîí –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | üì¶ –ù–µ—Ç | ‚ö° –ë—ã—Å—Ç—Ä—ã–π |

## üîí –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã

### –£—Ä–æ–≤–µ–Ω—å 1: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
```typescript
// –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫–µ
const encryptedData = storage.getString('sensitive_key');
// –î–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω, –¥–∞–Ω–Ω—ã–µ –Ω–µ—á–∏—Ç–∞–µ–º—ã
```

### –£—Ä–æ–≤–µ–Ω—å 2: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–æ–≤
```objc
// –§–∞–π–ª—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ iCloud –≤–æ–æ–±—â–µ
NSURL *fileURL = [NSURL fileURLWithPath:mmkvPath];
[fileURL setResourceValue:@YES forKey:NSURLIsExcludedFromBackupKey error:nil];
```

### –£—Ä–æ–≤–µ–Ω—å 3: –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞
```typescript
// 1. –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
// 2. –§–∞–π–ª—ã –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ iCloud
// 3. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–≤–æ–π–Ω–æ–π –∑–∞—â–∏—Ç—ã

### 1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –Ω–∞ –¥–∏—Å–∫–µ
- –§–∞–π–ª—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±–ª–∞–∫–æ
- –î–∞–∂–µ –ø—Ä–∏ –≤–∑–ª–æ–º–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã

### 2. **–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- –ù–µ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ iCloud
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–ª–∞—Ç–∏—Ç –∑–∞ –Ω–µ–Ω—É–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –ë—ã—Å—Ç—Ä–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏)

### 3. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º**
- GDPR: –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- HIPAA: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- PCI DSS: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### JavaScript/TypeScript:
```typescript
import { MMKV } from 'react-native-mmkv';
import { NativeModules, Platform } from 'react-native';

const { MMKVBackupExclusion } = NativeModules;

// 1. –°–æ–∑–¥–∞–µ–º MMKV —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
export const storage = new MMKV({
  id: 'bpsenergy-storage',
  encryptionKey: 'bpsenergy-secure-key-2024' // üîê –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
});

// 2. –ò—Å–∫–ª—é—á–∞–µ–º –∏–∑ iCloud –±—ç–∫–∞–ø–æ–≤
const excludeFromBackup = async () => {
  if (Platform.OS === 'ios' && MMKVBackupExclusion) {
    await MMKVBackupExclusion.excludeFromBackup();
  }
};

excludeFromBackup(); // üõ°Ô∏è –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
```

### iOS (Objective-C):
```objc
// –ù–∞—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ iCloud
+ (void)excludeMMKVFromBackup {
  NSString *mmkvPath = [documentsDirectory stringByAppendingPathComponent:@"mmkv"];
  NSURL *mmkvURL = [NSURL fileURLWithPath:mmkvPath];
  
  // –ò—Å–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª—ã –∏–∑ iCloud
  [mmkvURL setResourceValue:@YES 
                    forKey:NSURLIsExcludedFromBackupKey 
                     error:&error];
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:
```bash
# –§–∞–π–ª—ã MMKV –Ω–∞ –¥–∏—Å–∫–µ
/Users/[username]/Documents/mmkv/bpsenergy-storage.mmkv
# –°—Ç–∞—Ç—É—Å: –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω ‚úÖ
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–æ–≤:
```bash
# –í iCloud –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí iCloud ‚Üí –•—Ä–∞–Ω–∏–ª–∏—â–µ ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí [–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ]
# –°—Ç–∞—Ç—É—Å: –ù–µ –≤–∫–ª—é—á–µ–Ω–æ –≤ –±—ç–∫–∞–ø ‚úÖ
```

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞** - —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

- üîê **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** –∑–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ
- üõ°Ô∏è **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–æ–≤** –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –æ–±–ª–∞–∫–æ
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –æ—Å—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π
- üí∞ **–≠–∫–æ–Ω–æ–º–∏—è** –º–µ—Å—Ç–∞ –≤ iCloud

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç–ª–∏—á–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏! üöÄ 